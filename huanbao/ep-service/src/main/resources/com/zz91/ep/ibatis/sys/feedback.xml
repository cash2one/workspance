<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap
	PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
	"http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="feedback">

	<typeAlias alias="feedback" type="com.zz91.ep.domain.sys.Feedback"/>
	
	<insert id="insert" parameterClass="feedback">
		INSERT INTO `feedback` 
			( `details`, `screenshot`, `project`, `uid`, `cid`, 
			`email`, `gmt_created`, `gmt_modified`, `response_status`, 
			`gmt_response`, `resolve_remark`) 
		VALUES ( #details#, #screenshot#, #project#, #uid#, #cid#, 
		#email#,now(), now(), #responseStatus#, #gmtResponse#, "resolveRemark")
		
		<selectKey keyProperty="id" resultClass="java.lang.Integer">
			select last_insert_id()
		</selectKey>
		
	</insert>
	
</sqlMap>
