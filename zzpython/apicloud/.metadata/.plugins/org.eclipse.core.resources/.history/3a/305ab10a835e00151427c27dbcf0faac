<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
        <title>多窗口测试</title>
        <link rel="stylesheet" type="text/css" href="../../css/api.css" />
        <!-- <link rel="stylesheet" type="text/css" href="../../css/common.css" /> -->
        <style>
            label{
                display: inline-block;
            }
            .btn{
                background-color: #fff; cursor: pointer; display: inline-block; font-size: 14px;
                border: 1px solid #ccc; border-radius: 4px; padding: .5em 1.4em;
                text-decoration: none;
                text-align: center; vertical-align: middle;
                -webkit-user-select: none;
                user-select: none;
                margin-right: 10px; margin-top: 10px; 
            }
            .btn.active{
                background-color: #ebebeb;
                border-color: #adadad;
                box-shadow: inset 0 3px 5px rgba(0,0,0,.125);
            }
        </style>
<style>
    #header {
        background-color:#81a9c3;
    }
    #nav{
        display:-webkit-box;
        height:44px;
    }
    #left {
        width:80px;
        color:#fff;
    }
    #left span {
        margin-top:13px;
        margin-left:36px;
        font-size:18px;
        height:18px;
        line-height:18px;
        color: #fff;
    }
    #middle {
        -webkit-box-flex:1;
        width:100%;
        display:-webkit-box;
        -webkit-box-pack:center;
        -webkit-box-align:center;
    }
    #title {
        font-size:18px;
        text-align:center;
        color:#fff;
    }
    #right {
        width:80px;
    }
    section {
        -webkit-box-flex:1;
    }
    .leftBtnActive {
        background:url(../../image/navbtn_back_hov.png) no-repeat 14px 12px!important;
        -webkit-background-size:12px 20px!important;
        color:rgb(94,153,186)!important;
    }
    .rightBtnActive {
    }
</style>
    </head>
    <body>
        <div id="wrap">
            <div id="header">
                <nav id="nav">
                    <a id="left">
                    </a>
                    <div id="middle">
                        <strong id="title">我是第二个窗口</strong>
                    </div>
                    <a id="right">
                    </a>
                </nav>
            </div>
            <div id="main">
                <h1>
                    Hi~ 我是page1
                </h1>
                <p style="white-space:nowrap;">
                    If you're like me, and you're tasked with building responsive website that's relatively easy to update, WordPress is most often the CMS you will be building that website on.
                </p>

                <button tapmode="active" onclick="openP2()" class="btn btn-default" id="open">打开page2</button><button tapmode="active" onclick="closeP1()" class="btn btn-default" id="close">关闭page1</button>
                <button tapmode="active" class="btn btn-default" onclick="execScript()">当前窗口运行脚本</button>
                <div id="radios">
                    <br>
                    <h4>是否弹动</h4>
                    <input type="radio" name="bounces" value=true checked id="bounces1"><label for="bounces1">true</label>
                    <input type="radio" name="bounces" value=false id="bounces2"><label for="bounces2">false</label>
                    <br>
                    <h4>不透明</h4>
                    <input type="radio" name="opaque" value=true checked id="opaque1"><label for="opaque1">true</label>
                    <input type="radio" name="opaque" value=false id="opaque2"><label for="opaque2">false</label>
                    <br>
                    <h4>背景色</h4>
                    <input type="radio" name="bgColor" value="#000" checked id="bgColor1"><label for="bgColor1">黑色</label>
                    <input type="radio" name="bgColor" value="#fff" id="bgColor2"><label for="bgColor2">白色</label>
                    <br>
                    <h4>水平滚动条</h4>
                    <input type="radio" name="hScrollBarEnabled" value=true checked id="hScrollBarEnabled1"><label for="vScrollBarEnabled1">true</label>
                    <input type="radio" name="hScrollBarEnabled" value=false id="hScrollBarEnabled2"><label for="hScrollBarEnabled2">false</label>
                    <br>
                    <h4>垂直滚动条</h4>
                    <input type="radio" name="vScrollBarEnabled" value=true checked id="vScrollBarEnabled1"><label for="vScrollBarEnabled1">true</label>
                    <input type="radio" name="vScrollBarEnabled" value=false id="vScrollBarEnabled2"><label for="vScrollBarEnabled2">false</label>
                    <br>
                    <button tapmode="active" class="btn btn-default" onclick="setWin()">设置主窗口属性</button>
                </div>
            </div>

            <p>
                If you're like me, and you're tasked with building responsive website that's relatively easy to update, <br>
                WordPress is most often the CMS you will be building that website on.<br>
                If you're like me, and you're tasked with building responsive website that's relatively easy to update, WordPress is most often the CMS you will be building that website on.<br>
                If you're like me, and you're tasked with building responsive website that's relatively easy to update, WordPress is most often the CMS you will be building that website on.<br>
                If you're like me, and you're tasked with building responsive website that's relatively easy to update, WordPress is most often the CMS you will be building that website on.<br>
                If you're like me, and you're tasked with building responsive website that's relatively easy to update, WordPress is most often the CMS you will be building that website on.<br>
                If you're like me, and you're tasked with building responsive website that's relatively easy to update, WordPress is most often the CMS you will be building that website on.<br>
                If you're like me, and you're tasked with building responsive website that's relatively easy to update, WordPress is most often the CMS you will be building that website on.<br>

                If you're like me, and you're tasked with building responsive website that's relatively easy to update, WordPress is most often the CMS you will be building that website on.<br>
                If you're like me, and you're tasked with building responsive website that's relatively easy to update, WordPress is most often the CMS you will be building that website on.<br>
                If you're like me, and you're tasked with building responsive website that's relatively easy to update, WordPress is most often the CMS you will be building that website on.<br>
                
            </p>

        </div>
    </body>
    <script type="text/javascript" src="../../script/api.js"></script>
    <script type="text/javascript">
        function setWin(){
            var aRadio = $api.domAll('input:checked');
            var bounce = aRadio[0].value;
            var op = aRadio[1].value;
            var bg = aRadio[2].value;
            var hbar = aRadio[3].value;
            var vbar = aRadio[4].value;
            var opts = {};
            if(op != 'true'){
                opts.bounces = bounce;
                opts.opaque = op;
                opts.bgColor = 'rgba(0,0,0,0)';
                opts.hScrollBarEnabled = hbar;
                opts.vScrollBarEnabled = vbar;
                api.setWinAttr(opts);
            }else{
                opts.bounces = bounce;
                opts.opaque = op;
                opts.bgColor = bg;
                opts.hScrollBarEnabled = hbar;
                opts.vScrollBarEnabled = vbar;
                api.setWinAttr(opts);
            }
            
        };
        function openP2(){
            api.openWin({
                name: 'page2',
                url: './page2.html'
            });
        }
        function closeP1(){
            api.closeWin({
                name: 'page1',
                animation: {
                    type: 'fade',
                    subType: 'from_right',
                    duration: 200
                }
            });
        }

        function exec(){
            api.alert({msg:'Hi！page1发来贺电'});
        }
        function execScript(){
            api.execScript({
                name: 'page1',
                script: 'exec();'
            });
        }
        apiready = function(){
            var header = $api.byId('header');
            $api.fixIos7Bar(header);
        };
    </script>
</html>