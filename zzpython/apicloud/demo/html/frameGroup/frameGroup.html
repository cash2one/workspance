<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
        <title>窗口组</title>
        <link rel="stylesheet" type="text/css" href="../../css/api.css" />
        <link rel="stylesheet" type="text/css" href="../../css/common.css" />
<style>
    #header {
        background-color:#2DBD82;
    }
    #nav{
        display:-webkit-box;
        height:44px;
    }
    #left {
        width:80px;
        color:#fff;
        background:url(../../image/navbtn_back.png) no-repeat 14px 12px;
        -webkit-background-size:12px 20px;
    }
    #left>span {
        margin-top:13px;
        margin-left:36px;
        font-size:18px;
        height:18px;
        line-height:18px;
        color: #fff;
    }
    #middle {
        -webkit-box-flex:1;
        width:100%;
        display:-webkit-box;
        -webkit-box-pack:center;
        -webkit-box-align:center;
    }
    #title {
        font-size:18px;
        text-align:center;
        color:#fff;
    }
    #right {
        width:80px;
    }
    section {
        -webkit-box-flex:1;
    }
    .leftBtnActive {
        background:url(../../image/navbtn_back_hov.png) no-repeat 14px 12px!important;
        -webkit-background-size:12px 20px!important;
        color:rgb(94,153,186)!important;
    }
    .rightBtnActive {
    }
</style>    
    </head>
    <body>
        <div id="wrap">
            <div id="header">
                <nav id="nav">
                    <a id="left" tapmode="leftBtnActive" onclick="api.closeWin();">
                        <span>返回</span>
                    </a>
                    <div id="middle">
                        <strong id="title">窗口组</strong>
                    </div>
                    <a id="right">
                    </a>
                </nav>
            </div>
            <div id="main">
                <button tapmode="active" onclick="openFrameGroup()" class="btn btn-default" id="btn">打开窗口组</button>
                <button tapmode="active" class="btn btn-default" onclick="closeFrameGroup()">关闭窗口组</button>
                <h3>设置当前子窗口</h3>
                <label>窗口index:</label><input id="index" type="text" value="1" />
                <h4>是否有动画:</h4>
                <input type="radio" name="animation" value=true checked id="animation1"><label for="bounces1">true</label>
                <input type="radio" name="animation" value=false id="animation2"><label for="bounces2">false</label>
                <br/>
                <button tapmode="active" class="btn btn-default" onclick="setIndex()">设置当前子窗口</button>
            </div>
        </div>
    </body>
    <script type="text/javascript" src="../../script/api.js"></script>
    <script type="text/javascript">
        function openFrameGroup(){
            api.openFrameGroup({
                  name:'group1',
                  background:'#f0f',
                  rect:{x:0, y:350, w:'auto', h:'auto'},
                  frames:[{
                              name: 'page1',
                              url: './page1.html',
                              pageParam: {name: 'page1'},
                              bounces: true,
                              opaque: false,
                              bgColor: '#f00'
                        },{
                              name: 'page2',
                              url: './page2.html',
                              pageParam: {name: 'page2'},
                              bounces: true,
                              opaque: false,
                              bgColor: '#0f0'
                        },{
                              name: 'page3',
                              url: './page3.html',
                              pageParam: {name: 'page3'},
                              bounces: true,
                              opaque: false,
                              bgColor: '#00f'
                        }
                  ]
              }, function(ret) {
                  
              });
        }

        function closeFrameGroup(){
            api.closeFrameGroup({name:'group1'});
        }
        function setIndex(){
            var index = $api.byId('index').value;
            var aRadio = $api.domAll('input:checked');
            api.setFrameGroupIndex({
                name: 'group1',
                index:index,
                scroll:aRadio[0].value
            });
        }
        apiready = function(){
            var header = $api.byId('header');
            $api.fixIos7Bar(header);
        };
    </script>
</html>