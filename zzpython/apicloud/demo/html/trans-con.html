
<!DOCTYPE html>
<html lang='zh-CN'>
    <head>
        <meta charset='utf-8'>
        <meta name='viewport' content='maximum-scale=1.0,minimum-scale=1.0,user-scalable=no,width=device-width,initial-scale=1.0'/>
        <title>XML解析</title>
        <link rel='stylesheet' type='text/css' href='../css/bootstrap.min.css' />
		<link rel='stylesheet' href='../css/github.css'>
		<style type='text/css'>
		  .diy-btn-group-test {margin : 10px 0px 0px 0px;}
		</style>
		
    </head>
    <body>
    </body>
	<script src="../script/jquery-1.11.1.min.js"></script>
	<script src='../script/demo.js'></script>
	<script src='../script/highlight.pack.js'></script>
	<script>
	// 设置是否开启调试模式.
	// dlog.debug = true;
	
	var demo = Demo.createNew();
	demo.show(function(){
				$('pre code').each(function(i, block) {
				    hljs.highlightBlock(block);
				  });});
	</script>
	
    <script type='text/javascript' src='../script/api.js'></script>
    <script type='text/javascript'>
     var base64Str;

    function startUnarchive()
    {
        var obj = api.require('trans');
        
        obj.parse({
            data:document.getElementById("xmlStr").value,
            path:document.getElementById("xmlPath").value,
            customKey:document.getElementById("customKeys").value
        }, function(ret, err){
          if(ret) {
              document.getElementById("archivedXml").value = JSON.stringify(ret);
          } else{
              api.alert({msg:err.msg});
          }
        });
    };
    function imgToStr()
    {
        var obj = api.require('trans');
        
        obj.decodeImgToBase64({
              imgPath:document.getElementById("changeImgPath").value
        }, function(ret, err){
            if(ret.status) {
                base64Str = ret.base64Str;
                alert(base64Str);
            } else{
                api.alert({msg:err.msg});
            }
        });
    };
    function strToImg()
    {
        var obj = api.require('trans');
        
        obj.saveImage({
              base64Str:base64Str,
              album:document.getElementById("saveAlbum").value,
              imgPath:document.getElementById("saveImgPath").value,
              imgName:document.getElementById("imageName").value
        }, function(ret, err){
            if(ret.status) {
                api.alert({msg:"保存成功！"});
            } else{
                api.alert({msg:err.msg});
            }
        });
    };
	
    </script>
</html>