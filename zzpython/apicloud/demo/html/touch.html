<!DOCTYPE html>
<html>
<head>
<title>交互模块</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="copyright" content="www.apicloud.com" />
<link rel="stylesheet" href="../css/common.css">
<script src="../script/api.js"></script>
<style>
    html,body,header,section,footer,nav,div,ul,ol,li,img,a,span,em,del,center,strong,var,fieldset,form,label,dt,dd,cite,input,hr,time,mark,code,figcaption,figure,textarea{
        margin:0;
        border:0;
        padding:0;
        font-family: Tahoma, Geneva, sans-serif;
        font-style:normal;
    }
html,body {
    -webkit-touch-callout:none;
    -webkit-text-size-adjust:none;
    -webkit-tap-highlight-color:rgba(0, 0, 0, 0);
    -webkit-user-select:none;
}
header,footer,section,nav,img,a,button,em,del,strong,var,fieldset,label,cite,small,time,mark,code,figcaption,figure,textarea{
    display:block;
}
header,section,footer,nav {
    position:relative;
    overflow:hidden;
}
ol,ul{
    list-style:none;
}
input,button,textarea {
    border:0;
    margin:0;
    padding:0;
    font-size:1em;
    line-height:1em;
    -webkit-appearance:none;
    background-color:rgba(0, 0, 0, 0);
}
span{
    display:inline-block;
}
a,a:visited{
    text-decoration:none;
}
#header {
    background-color:#2DBD82;
}
#nav{
    display:-webkit-box;
    height:44px;
}
#left {
    width:80px;
    color:#fff;
    background:url(../image/navbtn_back.png) no-repeat 14px 12px;
    -webkit-background-size:12px 20px;
}
#left>span {
    margin-top:13px;
    margin-left:36px;
    font-size:18px;
    height:18px;
    line-height:18px;
}
#middle {
    -webkit-box-flex:1;
    width:100%;
    display:-webkit-box;
    -webkit-box-pack:center;
  	-webkit-box-align:center;
}
#title {
    font-size:18px;
	text-align:center;
	color:#fff;
}
#right {
    width:80px;
}
section {
    -webkit-box-flex:1;
}
.leftBtnActive {
    background:url(../image/navbtn_back_hov.png) no-repeat 14px 12px!important;
    -webkit-background-size:12px 20px!important;
    color:rgb(94,153,186)!important;
}
.rightBtnActive {
}
</style>
</head>
<body>
    <div id="wrap">
	    <header id='header'>
	        <nav id="nav">
	            <a id="left" tapmode="leftBtnActive" onclick="api.closeWin();">
	                <span>返回</span>
	            </a>
	            <div id="middle">
	                <strong id="title">交互模块</strong>
	            </div>
	            <a id="right">
	            </a>
	        </nav>
	    </header>
	    <div id="main">
	    </div>
    </div>
</body>
<script>
apiready = function() {
    var header = $api.byId('header');
    $api.fixIos7Bar(header);
    var listview = api.require('listView');
    
    var headerPos = $api.offset(header);
    var main = $api.byId('main');
    var mainPos = $api.offset(main);
    
    var urls = [
    './navigationBar.html',
    './stackMenu.html',
    './scrollRotation.html',
    './circularMenu.html',
    './tabBarMenu.html',
    './chatBox.html',
    './loadingLabel.html',
    './bubbleMenu.html',
    './sideMenu.html',
    './pullMenu.html',
    './navigationMenu.html',
    './actionButton.html',
    './arcMenu.html',
    './inputField.html',
    './tabBar.html',
    './toast.html',
    './progress.html',
    './dialog.html',
    './pullToRefresh.html',
    './frameGroup/frameGroup.html',
    './multiWin/animation.html',
    './multiWin/frame.html',
    './slidLayout/slidLayout.html',
    './multiWin/phone-index.html',
    './floatBox.html',
    './animation.html'
	];
    var names = [
        'navigationBar',
    'stackMenu',
    'scrollRotation',
    'circularMenu',
    'tabBarMenu',
    'chatBox',
    'loadingLabel',
    'bubbleMenu',
    'sideMenu',
    'pullMenu',
    'navigationMenu',
    'actionButton',
    'arcMenu',
    'inputField',
    'tabBar',
    'toast',
    'progress',
    'dialog',
    'pullToRefresh',
    'frameGroup',
    'frameAnimation',
    'frame',
    'slidLayout',
    'phone-index',
    'floatBox',
    'animation'
	];
    listview.open({
	    x: 0,
        y: headerPos.h,
        w: headerPos.w,
        h: mainPos.h,
	    rightBtn:[{
    		color:'#E76B65',
    		title:'关闭',
    		selecteColor:'bc534d'
    	},{
    		color:'#52C09A',
    		title:'查看',
	    	selecteColor:'429b7c'
    	}],
	    borderColor:'#CCCCCC',
	    cellBgColor:'#FFFFFF',
	    cellSelectColor:'#E9E9E9',
	    cellHeight:60,
	    leftBg:'#e9e9e9',
	    rightBg:'#e9e9e9',
  data:[{
      placeHoldImg:'widget://image/navigationBar.png',
      title:'navigationBar',
      subTitle:'导航条',
      titleColor:'#666666',
      titleSize:'14px',
      subTitleColor: '#999999',
      subTitleSize: '12px'
  },{
            placeHoldImg:'widget://image/stackMenu.png',
            title:'stackMenu',
            subTitle:'stack 菜单',
            titleColor:'#666666',
            titleSize:'14px',
            subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/scrollRotation.png',
            title:'scrollRotation',
            subTitle:'图片滚动联播器',
            titleColor:'#666666',
            titleSize:'14px',
            subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/circularMenu.png',
            title:'circularMenu',
            subTitle:'转盘菜单',
            titleColor:'#666666',
            titleSize:'14px',
            subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/tabBarMenu.png',
            title:'tabBarMenu',
            subTitle:'底部导航菜单',
            titleColor:'#666666',
            titleSize:'14px',
            subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/chatBox.png',
            title:'chatBox',
            subTitle:'聊天输入框',
            titleColor:'#666666',
            titleSize:'14px',
            subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/loadingLabel.png',
            title:'loadingLabel',
            subTitle:'加载标签，顶部栏加载效果',
            titleColor:'#666666',
            titleSize:'14px',
            subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/bubbleMenu.png',
            title:'bubbleMenu',
            subTitle:'气泡菜单，浮动菜单多用于内容操作的功能',
            titleColor:'#666666',
            titleSize:'14px',
            subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/sideMenu-0.png',
            title:'sideMenu',
            subTitle:'边框菜单，屏幕左右俩侧弹动菜单',
            titleColor:'#666666',
            titleSize:'14px',
            subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/pullMenu.png',
            title:'pullMenu',
            subTitle:'拖动菜单',
            titleColor:'#666666',
            titleSize:'14px',
            subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/navigationMenu.png',
            title:'navigationMenu',
            subTitle:'导航条按钮',
            titleColor:'#666666',
            titleSize:'14px',
            subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/actionButton.png',
            title:'actionButton',
            subTitle:'多屏按钮功能，支持滑动切换',
            titleColor:'#666666',
            titleSize:'14px',
            subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/arcMenu.png',
            title:'arcMenu',
            subTitle:'动画菜单',
            titleColor:'#666666',
            titleSize:'14px'
            ,subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/inputField.png',
            title:'inputField',
            subTitle:'文字输入框',
            titleColor:'#666666',
            titleSize:'14px'
            ,subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/tabBar.png',
            title:'tabBar',
            subTitle:'支持滑动的底部标签栏',
            titleColor:'#666666',
            titleSize:'14px'
            ,subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/toast.png',
            title:'toast',
            subTitle:'提示框，可设置提示位置，内容及显示时间',
            titleColor:'#666666',
            titleSize:'14px'
            ,subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/progress.png',
            title:'progress',
            subTitle:'进度提示，可设置动画类型',
            titleColor:'#666666',
            titleSize:'14px'
            ,subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/dialog.png',
            title:'dialog',
            subTitle:'多种弹出对话框样式',
            titleColor:'#666666',
            titleSize:'14px'
            ,subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/pullToRefresh.png',
            title:'pullToRefresh',
            subTitle:'下拉刷新功能',
            titleColor:'#666666',
            titleSize:'14px'
            ,subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/frameGroup.png',
            title:'frameGroup',
            subTitle:'打开窗口组功能',
            titleColor:'#666666',
            titleSize:'14px'
            ,subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/frameAnimation.png',
            title:'frameAnimation',
            subTitle:'子窗口动画，平移、缩放、旋转等',
            titleColor:'#666666',
            titleSize:'14px'
            ,subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/frame.png',
            title:'frame',
            subTitle:'打开子窗口功能',
            titleColor:'#666666',
            titleSize:'14px'
            ,subTitleColor: '#999999',
            subTitleSize: '12px'
        },{
            placeHoldImg:'widget://image/slidLayout.png',
            title:'slidLayout',
            subTitle:'侧滑显示动画效果，支持左右方向',
            titleColor:'#666666',
            titleSize:'14px'
            ,subTitleColor: '#999999',
            subTitleSize: '12px'
        },
        {
            placeHoldImg:'widget://image/touch_inner_icon.png',
            title:'multiWin',
            subTitle:'多窗口功能演示',
            titleColor:'#666666',
            titleSize:'14px'
            ,subTitleColor: '#999999',
            subTitleSize: '12px'
        },
        {
            placeHoldImg:'widget://image/touch_inner_icon.png',
            title:'floatBox',
            subTitle:'悬浮按钮演示',
            titleColor:'#666666',
            titleSize:'14px'
            ,subTitleColor: '#999999',
            subTitleSize: '12px'
        },
        {
            placeHoldImg:'widget://image/animation.png',
            title:'animation',
            subTitle: '打开窗口时动画效果',
            titleColor:'#666666',
            titleSize:'14px',
            subTitleColor: '#999999',
            subTitleSize: '12px'
        }]
    },function(ret,err){
    	var n = ret.index;
    	var m = ret.btnIndex;
    	if(m == 0){
    		return;
    	}
    	var name = names[n];
    	var url = urls[n];
    	openHTML(name,url);
    	
	});
}
function openHTML(name,url){  
	if("more" == name){
		api.alert({
			"title": "体验 微信 分享功能",
			"msg": "分享APICloud端API传奇到朋友圈...",
			"buttons": ["残忍拒绝", "立即分享"]
		}, function(ret, err){
			if(2 == ret.buttonIndex){
				follow();
			}
		})
		
		return;
	}
	         
    if(name && url){
        api.openWin({
            name: name,
            url: url
        });
    }
};

function follow()
{
    var weiXin = api.require('weiXin');
    weiXin.registerApp({
        appId: 'wxd0d84bbf23b4a0e4'
    }, function(ret, err) {
        if (!ret.status) {// 应用注册失败
			api.confirm({
				"title": "分享失败",
				"msg": "您可手动关注我们的公众账号:APICloud",
				"buttons": ["确定"]
			}, function(ret, err){
		
			});
			
			return;
        } 
		
		/*发布微信分享*/
	    weiXin.sendRequest({
	        scene: "timeline",
	        contentType: "web_page",
	        title: "开发者有福啦！APICloud免费发码，不看后悔一辈子，猛戳这里",
	        description: "开发者有福啦！APICloud免费发码，不看后悔一辈子，猛戳这里",
	        thumbUrl: "http://mmbiz.qpic.cn/mmbiz/lp6euAmKsAEQOT9GfPExicYKaYFZvzAAz8ohYkJibicfQRu1vzVXicUGkztIhLbFoKpI9dYKGh1icjSmlxaqTvmFwYA/0",
	        contentUrl: "http://mp.weixin.qq.com/s?__biz=MzA3MTk3MTQyMQ==&mid=200501731&idx=1&sn=43671cf1c25d9c8ab6983fa24066afdd&from=timeline&isappinstalled=1#rd"

	    }, function(ret, err) {
	        if ( ! ret.status) {
	            api.alert({
	                title: '分享失败',
	                msg: '您可手动关注我们的公众账号:APICloud',
	                buttons: ['确定']
	            });
	        } else {
	            api.alert({
	                title: '分享成功',
	                msg: '感谢您对我们的支持!',
	                buttons: ['确定']
	            });
	        };
	    });
    });
	
	
}
</script>
</html>