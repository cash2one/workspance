<!DOCTYPE html>
<html lang='zh-CN'>
    <head>
        <meta charset='utf-8'>
        <meta name='viewport' content='maximum-scale=1.0,minimum-scale=1.0,user-scalable=no,width=device-width,initial-scale=1.0'/>
        <title>语音识别演示</title>
        <link rel='stylesheet' type='text/css' href='../css/bootstrap.min.css' />
		<link rel='stylesheet' href='../css/github.css'>
		<style type='text/css'>
		  .diy-btn-group-test {margin : 10px 0px 0px 0px;}
		</style>
		
    </head>
    <body>
    </body>
	<script src="../script/jquery-1.11.1.min.js"></script>
	<script src='../script/demo.js'></script>
	<script src='../script/highlight.pack.js'></script>
	<script>
	var demo = Demo.createNew();
	demo.show(function(){
				$('pre code').each(function(i, block) {
				    hljs.highlightBlock(block);
				  });});
	</script>
	
	<script type="text/javascript" src="../script/api.js"></script>
	<script type="text/javascript">
    
	function openSpeechRecognizer()
	{
	    var obj = api.require('speechRecognizer');
	    obj.record({
	       vadbos:document.getElementById("vad_bos").value,
	       vadeos:document.getElementById("vad_eos").value,
	       rate:document.getElementById("sample_rate").value,
	       asrptt:document.getElementById("asr_ptt").value,
	       audioPath:document.getElementById("asr_audio_path").value
	    },function(ret,err){
	       if(ret.status){
	          document.getElementById("recordStr").value = ret.wordStr;
	       }
	     });

        // 如果用户添加了录音标识,则显示.
        obj.showRecordHUD();

	};
	function stopSpeechRecognizer()
	{
	    var obj = api.require('speechRecognizer');
	    obj.stopRecord();

        // 隐藏录音标识.
        obj.hideRecordHUD();
	};
	function cancelSpeechRecognizer()
	{
	    var obj = api.require('speechRecognizer');
	    obj.cancel();
	};
	function playSpeechRecognizer()
	{
	    var obj = api.require('speechRecognizer');
	    obj.read({
	         speed:document.getElementById("vspeed").value,
	         volume:document.getElementById("vvolume").value,
	         voice:document.getElementById("vvoicename").value,
	         rate:document.getElementById("samplerate").value,
	         audioPath:document.getElementById("vasr_audio_path").value,
	         readStr:document.getElementById("readstr").value
	    },function(ret,err){
	        if(ret.status){
	             document.getElementById("progress2").value = ret.speakProgress;
	        }else{
	             api.alert({msg:err.msg}); 
	        }
	    });
	};

	function pauseSpeechRecognizer()
	{
	    var obj = api.require('speechRecognizer');
	    obj.pause();
	};
	function resumeSpeechRecognizer()
	{
	    var obj = api.require('speechRecognizer');
	    obj.resume();
	};
	function stopSpeechRecognizer()
	{
	    var obj = api.require('speechRecognizer');
		alert(JSON.stringify(obj));
	    obj.stopRead();
	};
    function addSpeechHUD()
    {
        var obj = api.require('speechRecognizer');
        obj.addRecordHUD();
    
    }
	</script>
</html>

