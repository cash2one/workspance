<!DOCTYPE html>
<html lang='zh-CN'>
    <head>
        <meta charset='utf-8'>
        <meta name='viewport' content='maximum-scale=1.0,minimum-scale=1.0,user-scalable=no,width=device-width,initial-scale=1.0'/>
        <title>文件读写</title>
        <link rel='stylesheet' type='text/css' href='../css/bootstrap.min.css' />
		<link rel='stylesheet' href='../css/github.css'>
		<style type='text/css'>
		  .diy-btn-group-test {margin : 10px 0px 0px 0px;}
		</style>
		
    </head>
    <body>
    </body>
	<script src="../script/jquery-1.11.1.min.js"></script>
	<script src='../script/demo.js'></script>
	<script src='../script/highlight.pack.js'></script>
	<script>
	var demo = Demo.createNew();
	demo.show(function(){
				$('pre code').each(function(i, block) {
				    hljs.highlightBlock(block);
				  });});
	</script>
	
    <script type='text/javascript' src='../script/api.js'></script>
    <script type='text/javascript'>
    function writeFile(){
        var path = $api.byId('file2').value;
        var txt = $api.byId('text2').value;
        if(path){
            api.writeFile({
                path: path,
                data: txt
            }, function(ret, err){
                var status = ret.status;
                if(status){
                    api.alert({msg:'写入文件成功'});
                }else{
                    api.alert({msg:err.msg});
                }
            });
        }
    }

    function readFile(){
        var path = $api.byId('file1').value;
        if(path){
            api.readFile({
                path: path
            }, function(ret, err){
                var data = ret.data, status = ret.status;
                if(data){
                    // $api.byId('fileData').innerHTML = data;
					$api.byId('fileData').value = data;
                }
            });
        }
    }
    </script>
</html>